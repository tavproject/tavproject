var WPFormsStripe=window.WPFormsStripe||function(r,e,f){"use strict";var i={init:function(){f(r).on("wpformsReady",i.submitHandler)},submitHandler:function(){f(".wpforms-stripe form").each(function(){var r=f(this).validate().settings,o=r.submitHandler;r.submitHandler=function(i){var d=f(i),r=d.find(".wpforms-field-credit-card-cardname"),e=d.find(".wpforms-field-credit-card-cardcvc"),a=d.find(".wpforms-field-credit-card-cardnumber"),t=d.find(".wpforms-field-credit-card-cardmonth"),n=d.find(".wpforms-field-credit-card-cardyear"),s=d.validate().form();if(s&&0<a.val().length)d.find(".wpforms-submit").prop("disabled",!0),Stripe.setPublishableKey(wpforms_stripe.publishable_key),Stripe.card.createToken({number:a.val(),name:r.val(),cvc:e.val(),exp_month:t.val(),exp_year:n.val()},function(r,e){if(!e.error)return d.append('<input type="hidden" name="wpforms[stripeToken]" value="'+e.id+'">'),o(i);d.find(".wpforms-submit").prop("disabled",!1),d.find(".wpforms-submit-container").before('<div class="wpforms-error-alert">'+e.error.message+"</div>"),d.validate().cancelSubmit=!0});else{if(s)return d.find(".wpforms-submit").prop("disabled",!1),o(i);d.find(".wpforms-submit").prop("disabled",!1),d.validate().cancelSubmit=!0}}})}};return i}(document,window,jQuery);WPFormsStripe.init();